return{read=90,write=91,reboot=true,eepromWrite=true,title="PWM",minBytes=9,text={{t="Protocol",x=50,y=65,to=SMLSIZE},{t="32K",x=50,y=110,to=SMLSIZE},{t="Gyro Rt",x=50,y=155,to=SMLSIZE},{t="PID Rt",x=50,y=200,to=SMLSIZE},{t="Unsynced",x=240,y=110,to=SMLSIZE},{t="PWM Rate",x=240,y=155,to=SMLSIZE},{t="Idle Offset",x=240,y=200,to=SMLSIZE}},fields={{x=130,y=55,vals={4},min=0,max=9,to=MIDSIZE,table={[0]="OFF","ONESHOT125","ONESHOT42","MULTISHOT","BRUSHED","DSHOT150","DSHOT300","DSHOT600","DSHOT1200","PROSHOT1000"}},{x=130,y=95,vals={9},min=0,max=1,to=DBLSIZE,table={[0]="OFF","ON"},upd=function(self)self.updateRateTables(self)end},{x=130,y=140,vals={1},min=1,max=32,to=DBLSIZE,upd=function(self)self.updatePidRateTable(self)end},{x=130,y=185,vals={2},min=1,max=16,to=DBLSIZE},{x=350,y=95,vals={3},min=0,max=1,to=DBLSIZE,table={[0]="OFF","ON"}},{x=350,y=140,vals={5,6},min=200,max=32000,to=DBLSIZE},{x=350,y=185,vals={7,8},min=0,max=2000,to=DBLSIZE,scale=100}},calculateGyroRates=function(self,a)self.gyroRates={}self.fields[2].table={}for b=1,32 do self.gyroRates[b]=a/b;local c=nil;self.fields[2].table[b]=string.format("%.2f",a/b)end end,calculatePidRates=function(self,a)self.fields[3].table={}for b=1,16 do self.fields[3].table[b]=string.format("%.2f",a/b)end end,updateRateTables=function(self)if self.values[9]==0 then self.calculateGyroRates(self,8)self.calculatePidRates(self,8)elseif self.values[9]==1 then self.calculateGyroRates(self,32)self.calculatePidRates(self,32)end end,updatePidRateTable=function(self)local d=self.values[1]local e=self.gyroRates[d]self.calculatePidRates(self,e)end}
